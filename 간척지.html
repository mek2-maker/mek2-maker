<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€í•œë¯¼êµ­ ê°„ì²™ì§€ ì§€ë„</title>

    <!-- âœ… Leaflet ë¼ì´ë¸ŒëŸ¬ë¦¬ CDN -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            display: flex;
        }

        /* âœ… ì§€ë„ ì»¨í…Œì´ë„ˆ */
        #map {
            width: 100vw;
            height: 100vh;
        }

        /* âœ… íŒì—… ë‚´ iframe ìŠ¤íƒ€ì¼ ì¡°ì • */
        .leaflet-popup-content iframe {
            border: none;
            width: 600px;
            height: 400px;
        }
    </style>
</head>
<body>

    <!-- âœ… ì§€ë„ í‘œì‹œ ì˜ì—­ -->
    <div id="map"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log("âœ… Leaflet ì§€ë„ ì´ˆê¸°í™” ì‹œì‘");

            // âœ… ì§€ë„ ìƒì„± ë° ì´ˆê¸° ì¤‘ì‹¬ ì¢Œí‘œ ì„¤ì •
            var map = L.map('map').setView([36.5, 126.5], 7);

            // âœ… OpenStreetMap íƒ€ì¼ ì¶”ê°€
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://openstreetmap.org/copyright/">OpenStreetMap</a>'
            }).addTo(map);

            console.log("âœ… ì§€ë„ ë¡œë“œ ì™„ë£Œ");

            // âœ… ë§ˆì»¤ ë°ì´í„° (ì¢Œí‘œ ë° íŒì—… ì½˜í…ì¸ )
            var markerData = [
                {
                    coords: [37.458664, 126.441976], // ì¸ì²œê³µí•­
                    title: "ì¸ì²œê³µí•­",
                    content: `<iframe src="Interactive_Map_Slide_Image_files/libs/iframe-0.0.1/incheon_change.html"
                               width="600" height="400"></iframe>`
                },
                {
                    coords: [35.818059, 126.477560], // ìƒˆë§Œê¸ˆ
                    title: "ìƒˆë§Œê¸ˆ",
                    content: `<iframe src="Interactive_Map_Slide_Image_files/libs/iframe-0.0.1/saemangeum_change.html"
                               width="600" height="400"></iframe>`
                },
                {
                    coords: [34.523302, 126.470449], // í•´ë‚¨ ê°„ì²™ì§€
                    title: "í•´ë‚¨ ê°„ì²™ì§€",
                    content: `<iframe src="Interactive_Map_Slide_Image_files/libs/iframe-0.0.1/haenam_change.html"
                               width="600" height="400"></iframe>`
                },
                {
                    coords: [36.648893, 126.352627], // ì„œì‚° ì§€êµ¬
                    title: "ì„œì‚° ì§€êµ¬",
                    content: `<a href="https://www.youtube.com/watch?v=JPot5xfDlDg" target="_blank">ì„œì‚° ê´€ë ¨ ì˜ìƒ ë³´ê¸°</a>`
                }
            ];

            console.log("âœ… ë§ˆì»¤ ì¶”ê°€ ì‹œì‘");

            // âœ… ë§ˆì»¤ ì¶”ê°€ ë° íŒì—… ì—°ê²°
            markerData.forEach(function(data) {
                var marker = L.marker(data.coords).addTo(map);
                marker.on('click', function() {
                    console.log(`ğŸ“Œ ${data.title} ë§ˆì»¤ í´ë¦­ë¨`);

                    // âœ… íŒì—…ì„ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ì—¬ ì¶”ê°€
                    var popup = L.popup()
                        .setLatLng(data.coords)
                        .setContent(`<b>${data.title}</b><br>${data.content}`)
                        .openOn(map);
                });
            });

            console.log("âœ… ëª¨ë“  ë§ˆì»¤ ì¶”ê°€ ì™„ë£Œ");
        });
    </script>

</body>
</html>
